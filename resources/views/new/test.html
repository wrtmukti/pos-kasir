<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aplikasi Order</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f8f9fa;
    }
    header {
      padding: 10px;
      background: white;
      border-bottom: 1px solid #ddd;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    .categories {
      display: flex;
      gap: 10px;
      overflow-x: auto;
      white-space: nowrap;     /* biar tidak turun ke bawah */
      -webkit-overflow-scrolling: touch; /* biar smooth di mobile */
      scrollbar-width: none;   /* Firefox */
    }
    .categories::-webkit-scrollbar {
      display: none;           /* Chrome, Safari */
    }
    .category-btn {
      flex: 0 0 auto;          /* jangan biarkan mengecil */
      padding: 10px 18px;
      border-radius: 20px;
      border: 2px solid #e63946;
      background: white;
      color: #e63946;
      font-weight: bold;
      cursor: pointer;
      transition: 0.2s;
    }


    .products {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      padding: 20px;
    }
    .product-card {
      background: white;
      padding: 15px;
      border-radius: 15px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: 0.3s ease;
      animation: fadeIn 0.4s ease;
    }
    .product-card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      border-radius: 10px;
    }
    .product-card h4 {
      margin: 15px 0 8px;
      font-size: 18px;
    }
    .product-card button {
      padding: 10px 18px;
      border: none;
      background: #e63946;
      color: white;
      font-size: 15px;
      font-weight: bold;
      border-radius: 8px;
      cursor: pointer;
      margin-top: auto;
      transition: 0.2s;
    }
    .product-card button:hover { background: #c92a34; }

    .cart-bar {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: #e63946;
      color: white;
      padding: 18px;
      font-size: 16px;
      font-weight: bold;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      transition: transform 0.3s ease;
    }
    .cart-detail {
      position: fixed;
      bottom: -100%;
      left: 0;
      right: 0;
      background: white;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -2px 12px rgba(0,0,0,0.3);
      max-height: 65%;
      overflow-y: auto;
      padding: 20px;
      transition: bottom 0.3s ease;
    }
    .cart-detail.active { bottom: 65px; }
    .cart-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      border-bottom: 1px solid #eee;
      padding-bottom: 10px;
      font-size: 16px;
    }
    .qty-btn {
      padding: 6px 12px;
      border: none;
      background: #e63946;
      color: white;
      font-size: 16px;
      border-radius: 6px;
      cursor: pointer;
      margin: 0 5px;
    }

    @keyframes fadeIn {
      from {opacity:0; transform: translateY(15px);}
      to {opacity:1; transform: translateY(0);}
    }

    /* Responsive */
    @media (max-width: 992px) {
      .products { grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width: 600px) {
      .products { grid-template-columns: repeat(2, 1fr); gap: 15px; }
      .product-card img { height: 150px; }
    }
  </style>
</head>
<body>

  <header>
     <div class="categories">
    <button class="category-btn active" onclick="filterProducts('all', event)">All</button>
    <button class="category-btn" onclick="filterProducts('makanan', event)">Makanan</button>
    <button class="category-btn" onclick="filterProducts('minuman', event)">Minuman</button>
    <button class="category-btn" onclick="filterProducts('snack', event)">Snack</button>
    <button class="category-btn" onclick="filterProducts('buah', event)">Buah</button>
    <button class="category-btn" onclick="filterProducts('sayur', event)">Sayur</button>
  </div>
  </header>

  <main>
    <div class="products" id="product-list">
      <div class="product-card" data-category="makanan">
        <img src="https://via.placeholder.com/300x180" alt="">
        <h4>Nasi Goreng</h4>
        <button onclick="addToCart('Nasi Goreng')">Tambah</button>
      </div>
      <div class="product-card" data-category="minuman">
        <img src="https://via.placeholder.com/300x180" alt="">
        <h4>Es Teh</h4>
        <button onclick="addToCart('Es Teh')">Tambah</button>
      </div>
      <div class="product-card" data-category="snack">
        <img src="https://via.placeholder.com/300x180" alt="">
        <h4>Keripik</h4>
        <button onclick="addToCart('Keripik')">Tambah</button>
      </div>
      <div class="product-card" data-category="makanan">
        <img src="https://via.placeholder.com/300x180" alt="">
        <h4>Mie Ayam</h4>
        <button onclick="addToCart('Mie Ayam')">Tambah</button>
      </div>
    </div>
  </main>

  <div class="cart-bar" onclick="toggleCartDetail()">
    <span id="cart-count">0 item</span>
    <span>Lihat Keranjang</span>
  </div>

  <div class="cart-detail" id="cart-detail"></div>

<script>
  let cart = {};
  const cartCount = document.getElementById('cart-count');
  const cartDetail = document.getElementById('cart-detail');

  function addToCart(product) {
    cart[product] = (cart[product] || 0) + 1;
    updateCart();
  }

  function updateCart() {
    let items = Object.keys(cart).reduce((acc, key) => acc + cart[key], 0);
    cartCount.textContent = items + " item";

    cartDetail.innerHTML = "";
    for (let product in cart) {
      let div = document.createElement("div");
      div.className = "cart-item";
      div.innerHTML = `
        <span>${product}</span>
        <div>
          <button class="qty-btn" onclick="changeQty('${product}', -1)">-</button>
          <span>${cart[product]}</span>
          <button class="qty-btn" onclick="changeQty('${product}', 1)">+</button>
        </div>
      `;
      cartDetail.appendChild(div);
    }
  }

  function changeQty(product, amount) {
    cart[product] += amount;
    if (cart[product] <= 0) {
      delete cart[product];
    }
    updateCart();
  }

  function toggleCartDetail() {
    cartDetail.classList.toggle("active");
  }

  function filterProducts(category, event) {
    document.querySelectorAll(".category-btn").forEach(btn => btn.classList.remove("active"));
    event.target.classList.add("active");

    document.querySelectorAll(".product-card").forEach(card => {
      if (category === "all" || card.dataset.category === category) {
        card.style.display = "flex";
        card.style.animation = "fadeIn 0.4s ease";
      } else {
        card.style.display = "none";
      }
    });
  }
</script>

</body>
</html>
